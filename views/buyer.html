<!DOCTYPE html>

<html>

<head>

 <title>Product</title>

 <!-- <link rel="stylesheet" href="style/main.css"> -->
 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@7.12.15/dist/sweetalert2.all.min.js"></script>  
 <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/sweetalert2@7.12.15/dist/sweetalert2.min.css'></link>  
 <style>
   @import url('https://fonts.googleapis.com/css?family=Montserrat|Open+Sans|Roboto');
*{
 margin:0;
 padding: 0;
 outline: 0;
}

table{
 z-index: 2;
 width: 60%; 
 border-collapse: collapse;
 border-spacing: 0;
 box-shadow: 0 2px 15px rgba(64,64,64,.7);
 border-radius: 12px 12px 0 0;
 overflow: auto;
 margin-left:5%;
 margin-top:1%;

}
td , th{
 padding: 15px 20px;
 text-align: center;
 

}
th{
 background-color: black;
 color: #fafafa;
 font-family: 'Open Sans',Sans-serif;
 font-weight: 200;
 text-transform: uppercase;

}
tr{
 width: 100%;
 background-color: #fafafa;
 font-family: 'Montserrat', sans-serif;
}
tr:nth-child(even){
 background-color: #eeeeee;
}



 </style>
</head>

<body>


<div class="container">
    <div class="submit">
      <form method="POST" action='/search'>
          <br><br> &emsp;&emsp;&emsp;&emsp;&emsp;
          <input type="text" onkeyup="myFunction()"  placeholder="  Search here!" name="search" style="height:30px; width:40%" id="myInput">
          &emsp;&emsp;&emsp;<input type="submit" value="SEARCH" style=" font-size: large; height:30px; width:10%">
      </form>
      <form method="POST" action="/back">
        <br>&emsp;&emsp;&emsp;&emsp;&emsp;&nbsp;<input type="submit" value="Back" id="back" style=" font-size: large; height:30px; width:8%">
    </form>
    </div>
<div class="table">
<form id="form" method="POST" class="form">
 &emsp;&emsp;&emsp;<table id="buyertable" class="tableclass" >
   

    <tr>
          <th>Name</th>
          <th>Category</th>
          <th>Type</th>
          <th>Price</th>
    </tr>

   
    <% if(result.length>0) { %>
        <% result.forEach(function(eachres){ %>
          
    <tr>
          <td><%= eachres.pname %></td>
          <td><%= eachres.pcategory %></td>
          <td><%= eachres.ptype %></td>
          <td><%= eachres.price %></td>
    </tr>
    
    <% }) %>
    <%  } else { %>
      <tr>
        <td>--</td>
        <td>--</td>
        <td>--</td>
        <td>--</td>
        <td>--</td>
        <td>--</td>
  </tr>
    <% } %>

    <p id="info"></p>
</table>
</form>

<form method="POST" action="/filterr">
    <br><br>&emsp;&emsp;&emsp;&emsp;<label>FILTER BY:</label>
    <!-- <br><br>&emsp;&emsp;&emsp;&emsp;&emsp;<input type="radio" id="all" name="category" value="all">
    &nbsp;<label for="all"> All</label><br> -->
    <br><br>
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="radio" id="electronic" name="category" value="Electronic">
    &nbsp;<label for="Electronic"> Electronics</label><br>
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="checkbox" id="Laptop" name="type" value="Laptop">
    &nbsp;<label for="Laptop"> Laptop</label><br>
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="checkbox" id="wm" name="type" value="Washing Machine">
    &nbsp;<label for="wm"> Washing Machine</label><br><br>

    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="radio" id="book" name="category" value="Book">
    &nbsp;<label for="book"> Books</label><br>
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="checkbox" id="romance" name="type" value="Romance">
    &nbsp;<label for="romance"> Romance</label><br>
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="checkbox" id="thriller" name="type" value="Thriller">
    &nbsp;<label for="thriller"> Thriller</label><br><br>

    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="radio" id="food" name="category" value="Grocery">
    &nbsp;<label for="food"> Grocery</label><br>
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="checkbox" id="vege" name="type" value="Vegetable">
    &nbsp;<label for="vege"> Vegetables</label><br>
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="checkbox" id="fruit" name="type" value="Fruit">
    &nbsp;<label for="fruit">Fruits</label><br><br>

    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="radio" id="book" name="category" value="price">
    &nbsp;<label for="book"> Price</label><br>
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="checkbox" id="romance" name="type" value="hightolow">
    &nbsp;<label for="romance"> High to Low</label><br>
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<input type="checkbox" id="thriller" name="type" value="lowtohigh">
    &nbsp;<label for="thriller"> Low to high</label><br><br>

    &emsp;&emsp;&emsp;&emsp;&emsp;<input type="submit" value="Apply" style="height:30px; width:100px; font-size:medium"><br><br>
  </form>
</div>

</div>

<script>
  function myFunction() {
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("buyertable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) 
  {

    
        td = tr[i].getElementsByTagName("td")[0];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }     
  }
}
</script>

</body>

</html>